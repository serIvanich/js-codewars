<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>75</title>
  </head>

  <body>
    <div class="block"></div>

    <script>
      //kata 75

      function titleCase(title, minorWords) {
        function replacement(match, p1) {
          let firstLetter =
            !minorWords ||
            !(
              minorWords
                .toLowerCase()
                .split(" ")
                .includes(match.toLowerCase()) && !p1
            )
              ? match[0].toUpperCase()
              : match[0].toLowerCase();
          return firstLetter + match.slice(1).toLowerCase();
        }
        return title.length === 0
          ? ""
          : title.replace(/(^[a-z]+)|[a-z]+/gi, replacement);
      }

      // console.log(titleCase(""), "");
      // console.log(
      //   titleCase("a clash of KINGS", "a an the of"),
      //   "A Clash of Kings"
      // );
      // console.log(
      //   titleCase("THE WIND IN THE WILLOWS", "The In"),
      //   "The Wind in the Willows"
      // );
      // console.log(titleCase("the quick brown fox"), "The Quick Brown Fox");
      // console.log(titleCase("First a of in", "an often into"), "First A Of In");

      // kata 76
      function queueTime(customers, n) {
        // let tills = [...Array(n)].map((el) => 0);
        // customers.forEach((t, i, arr) => {
        //   tills[tills.indexOf(Math.min(...tills))] += t;
        // });
        // return Math.max(...tills);

        //liked reduce()
        return Math.max(
          ...customers.reduce((acc, c) => {
            let i = acc.indexOf(Math.min(...acc));
            acc[i] += c;
            return acc;
          }, Array(n).fill(0))
        );
      }

      // console.log(queueTime([], 1), 0);
      // console.log(queueTime([1, 2, 3, 4], 1), 10);
      // console.log(queueTime([2, 2, 3, 3, 4, 4], 2), 9);
      // console.log(queueTime([1, 2, 3, 4, 5], 100), 5);
      // console.log(queueTime([5, 3, 4], 1), 12);
      // console.log(queueTime([10, 2, 3, 3], 2), 10);
      // console.log(queueTime([2, 3, 10, 2], 2), 12);

      //kata 77
      function findNb(m) {
        //one way
        // let n = 0;
        // let sum = 0;
        // while (sum < m) sum += (++n) ** 3;
        // return sum === m ? n : -1;

        // other way
        let n = Math.sqrt(0.25 + 2 * Math.sqrt(m)) - 0.5;
        return n % 1 ? -1 : n;
      }

      // console.log(findNb(4183059834009), 2022);

      // console.log(findNb(24723578342962), -1);
      // console.log(findNb(135440716410000), 4824);
      // console.log(findNb(40539911473216), 3568);

      // kata 78

      function arrayDiff(a, b) {
        // one way
        return a.filter((item) => !b.includes(item));

        // recursion version
        // let resArr = a.filter((n, ind) => {
        //   return n !== b[0];
        // });
        // return b.length <= 1 ? resArr : [...arrayDiff(resArr, b.slice(1))];
      }

      console.log(arrayDiff([1, 2], [1]), [2]);
      console.log(arrayDiff([1, 2, 2], [1]), [2, 2]);
      console.log(arrayDiff([1, 2, 2], [2]), [1]);
      console.log(arrayDiff([1, 2, 2], []), [1, 2, 2]);
      console.log(arrayDiff([], [1, 2]), []);
      console.log(arrayDiff([1, 2, 3], [1, 2]), [3]);
    </script>
  </body>
</html>

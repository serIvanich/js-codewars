<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>105</title>
  </head>

  <body>
    <div class="block"></div>

    <script>
      //kata 105

      const inArray = (array1, array2) =>
        array1.filter((subStr) => array2.join(",").includes(subStr)).sort();

      // let a2 = ["lively", "alive", "harp", "sharp", "armstrong"];

      // let a1 = ["xyz", "live", "strong"];
      // console.log(inArray(a1, a2), ["live", "strong"]);

      // a1 = ["live", "strong", "arp"];
      // console.log(inArray(a1, a2), ["arp", "live", "strong"]);

      // a1 = ["tarp", "mice", "bull"];
      // console.log(inArray(a1, a2), []);

      // kata 106

      function spinWords(string) {
        return string.replace(
          /\w{5,}/gi,
          (word) => word.split("").reverse().join("")
          // another way
          // word.replace(/\w/gi, (m, i, input) =>
          //   input.substr(input.length - i - 1, 1)
          // )
        );
        // also different
        // let r = "";
        // let c = 1;
        // while (c <= match.length) {
        //   r += match.substr(match.length - c++, 1);
        // }
        // return r;
      }
      // console.log(spinWords("Welcome"), "emocleW");
      // console.log(spinWords("Hey fellow warriors"), "Hey wollef sroirraw");
      // console.log(spinWords("This is a test"), "This is a test");
      // console.log(spinWords("This is another test"), "This is rehtona test");
      // console.log(
      //   spinWords("You are almost to the last test"),
      //   "You are tsomla to the last test"
      // );
      // console.log(
      //   spinWords("Just kidding there is still one more"),
      //   "Just gniddik ereht is llits one more"
      // );
      // console.log(
      //   spinWords("Seriously this is the last one"),
      //   "ylsuoireS this is the last one"
      // );

      //kata 107
      function solution(number) {
        return number > 3
          ? [...Array(number - 3)]
              .map((el, i) => i + 3)
              .filter((n) => n % 3 === 0 || n % 5 === 0)
              .reduce((sum, num) => sum + num)
          : 0;

        //another solution
        // return number < 4
        //   ? 0
        //   : [...Array(number)].reduce(
        //       (p, _, i) => p + (!(i % 3) || !(i % 5) ? i : 0),
        //       0
        //     );
      }

      //console.log(solution(10), 23);

      // kata 108
      function pigIt(str) {
        return str.replace(/\b(\w)(\w*)/gi, (match, p1, p2) => p2 + p1 + "ay");

        // some different moment
        // return str.replace(/\b(\w)(\w*)/gi, "$2$1ay");
      }
      // console.log(pigIt("Pig latin is cool"), "igPay atinlay siay oolcay");
      // console.log(pigIt("This is my string"), "hisTay siay ymay tringsay");

      //kata 109
      Array.prototype.reduce = function (process, initial) {
        for (let el of this) {
          if (!initial) {
            initial = el;
            continue;
          }
          initial = process(initial, el);
        }
        return initial;
      };
      console.log(
        ["a", "y", "!"].reduce(function (x, y) {
          return x + y;
        }, "y"),
        "yay!"
      );
      console.log(
        ["a", "y", "!"].reduce(function (x, y) {
          return x + y;
        }),
        "ay!"
      );
    </script>
  </body>
</html>

<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>65</title>
  </head>

  <body>
    <div class="block"></div>

    <script>
      // task 64
      function alphabetPosition(text) {
        let alphabet = [...Array(26).keys()]
          .map((i) => String.fromCharCode(i + 97))
          .reduce((obj, word, ind) => {
            obj[word] = ind + 1;
            return obj;
          }, {});
        let arr = [];

        for (symbol of text) {
          if (/[a-z]/i.test(symbol)) {
            arr.push(alphabet[symbol.toLowerCase()]);
          }
        }
        return arr.join(" ");
      }

      // console.log(
      //   alphabetPosition("The sunset sets at twelve o' clock."),
      //   "20 8 5 19 21 14 19 5 20 19 5 20 19 1 20 20 23 5 12 22 5 15 3 12 15 3 11"
      // );
      // console.log(
      //   alphabetPosition("The narwhal bacons at midnight."),
      //   "20 8 5 14 1 18 23 8 1 12 2 1 3 15 14 19 1 20 13 9 4 14 9 7 8 20"
      // );

      //task 65

      function isValidWalk(walk) {
        //  -----one way-------

        if (walk.length !== 10) {
          return false;
        }
        let str = walk.join("");
        let reg =
          /(n([n,w,e])*s)|(s([s,w,e])*n)|(w([n,s,w])*e)|(e([n,s,e])*w)/gi;
        while (reg.test(str)) {
          str = str.replace(reg, (match) =>
            match.length === 2 ? "" : match.slice(1, match.length - 1)
          );
        }
        return str === "";

        // ------another way-------

        //   if (walk.length !== 10) {
        //     return false;
        //   }
        //   walk = walk.reduce((obj, w) => {
        //     obj.hasOwnProperty(w) ? (obj[w] += 1) : (obj[w] = 0);
        //     return obj;
        //   }, {});
        //   return walk["n"] === walk["s"] && walk["w"] === walk["e"];
      }
      console.log(
        isValidWalk(["n", "s", "n", "s", "n", "s", "n", "s", "n", "s"]),
        "true"
      );
      console.log(
        isValidWalk([
          "w",
          "e",
          "w",
          "e",
          "w",
          "e",
          "w",
          "e",
          "w",
          "e",
          "w",
          "e",
        ]),
        "false"
      );
      console.log(isValidWalk(["w"]), "false");
      console.log(
        isValidWalk(["n", "n", "n", "s", "n", "s", "n", "s", "n", "s"]),
        "false"
      );
      console.log(
        isValidWalk(["n", "w", "n", "s", "n", "s", "n", "s", "n", "s"]),
        "false"
      );
      console.log(
        isValidWalk(["n", "w", "n", "s", "e", "s", "n", "s", "n", "s"]),
        "true"
      );
    </script>
  </body>
</html>

<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>97</title>
  </head>

  <body>
    <div class="block"></div>

    <script>
      //kata 97

      const regexp =
        /\[(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|(?<=02-)2[0-8]|(?<=[^02]-)2[0-9]|(?<=(?:01|03|05|07|08|10|12)-)3[0-1]|(?<=(?:04|06|09|11)-)30)\]/;

      // shorter version
      const regexp2 =
        /\[(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8]|(?<!02-)(?:29|30)|(?<=(?:01|03|05|07\08\10\12)-)31)]/;

      // valid
      let valid = [
        "[02-28]",
        "[11-16]",
        "[01-31]",
        "[03-30]",
        "[07-30]",
        "ignore [08-25] ignore",
        "[100-200] [1-1] [01-19]",
      ];

      // invalid
      let invalid = [
        "[02-31]",
        "[02-30]",
        "[04-31]",
        "[06- 3]",
        "[06/03]",
        "[12-00]",
      ];

      for (let el of valid) {
        let show = regexp2.test(el) ? `valid ${el.match(regexp2)[0]}` : false;
        console.log(show, "---", el, "---", "valid");
      }
      for (let el of invalid) {
        let show = regexp2.test(el) ? `something wrong` : "invalid";
        console.log(show, "---", el, "---", "invalid");
      }
    </script>
  </body>
</html>

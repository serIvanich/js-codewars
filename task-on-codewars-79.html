<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>79</title>
  </head>

  <body>
    <div class="block"></div>

    <script>
      //kata 79

      function productFib(prod) {
        let [a, b, times] = [0, 1, 0];
        while (prod > times) {
          [a, b] = [b, b + a];
          times = a * b;
        }
        return [a, b, prod === times];
      }

      // console.log(productFib(4895), [55, 89, true]);
      // console.log(productFib(5895), [89, 144, false]);
      // console.log(productFib(74049690), [6765, 10946, true]);
      // console.log(productFib(84049690), [10946, 17711, false]);
      // console.log(productFib(193864606), [10946, 17711, true]);
      // console.log(productFib(447577), [610, 987, false]);
      // console.log(productFib(602070), [610, 987, true]);
      // kata 80

      function stripUrlParams(url, paramsToStrip = []) {
        function replacer(match) {
          let replacement = match
            .slice(1)
            .split("&")
            .filter((el) =>
              paramsToStrip.includes(el[0]) ? false : paramsToStrip.push(el[0])
            )
            .join("&");
          return replacement ? "?" + replacement : replacement;
        }
        return url.replace(/(?<=com)\?.*$/gi, replacer);
      }
      let url1 = "www.codewars.com?a=1&b=2";
      let url2 = "www.codewars.com?a=1&b=2&a=1&b=3";
      let url3 = "www.codewars.com?a=1";
      let url4 = "www.codewars.com";

      // console.log(stripUrlParams(url1), url1);
      // console.log(stripUrlParams(url2), url1);
      // console.log(stripUrlParams(url2, ["b"]), url3);
      // console.log(stripUrlParams(url4, ["b"]), url4);
      // console.log(stripUrlParams(url1, ["a", "b"]), url4);

      // kata 81
      function sursurungal(txt) {
        // function replacer(match, num, word) {
        //   num = +num;
        //   let wodrRep = word.replace(/[s]$/i, "");
        //   if (num === 2) {
        //     word = "bu" + wodrRep;
        //   } else if (num < 10 && num > 2) {
        //     word = wodrRep + "zo";
        //   } else if (num > 9) {
        //     word = "ga" + wodrRep + "ga";
        //   }
        //   return num + " " + word;
        // }
        // return txt.replace(/(\d+)\s([a-z]+)/i, replacer);

        // liked way
        return txt.replace(/(\d+ )(\S+)s/g, function (org, $1, $2) {
          return $1 < 2
            ? org
            : $1 +
                ($1 == 2
                  ? "bu" + $2
                  : /^[3-9] $/.test($1)
                  ? $2 + "zo"
                  : "ga" + $2 + "ga");
        });
      }
      console.log(sursurungal("0 tomato"), "0 tomato");
      console.log(sursurungal("1 tomato"), "1 tomato");
      console.log(sursurungal("2 tomatoes"), "2 butomatoe");
      console.log(sursurungal("3 tomatoes"), "3 tomatoezo");
      console.log(sursurungal("5 tomatoes"), "5 tomatoezo");
      console.log(sursurungal("7 tomatoes"), "7 tomatoezo");
      console.log(sursurungal("3 tomatoes"), "3 tomatoezo");
      console.log(sursurungal("10 tomatoes"), "10 gatomatoega");
    </script>
  </body>
</html>
